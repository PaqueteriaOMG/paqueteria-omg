<div class="settings-page">
    <div class="settings-header">
    <h2 class="settings-title">Configuración</h2>
    <p class="settings-subtitle">Personaliza la configuración de tu sistema de gestión de paquetes</p>
    </div>

    <div class="settings-content">
    <!-- Configuración General -->
    <div class="settings-section card">
        <div class="section-header">
        <h3 class="section-title">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
            Configuración General
        </h3>
        <p class="section-description">Información básica de tu empresa y configuración del sistema</p>
        </div>
        <div class="section-content">
        <div class="form-grid">
            <div class="form-group">
            <label class="form-label">Nombre de la empresa</label>
            <input
                type="text"
                [(ngModel)]="generalSettings.companyName"
                (ngModelChange)="onSettingChange()"
                class="form-input"
                placeholder="Mi Empresa de Envíos"
            >
            </div>
            <div class="form-group">
            <label class="form-label">Correo de contacto</label>
            <input
                type="email"
                [(ngModel)]="generalSettings.contactEmail"
                (ngModelChange)="onSettingChange()"
                class="form-input"
                placeholder="contacto@empresa.com"
            >
            </div>
            <div class="form-group">
            <label class="form-label">Teléfono de contacto</label>
            <input
                type="tel"
                [(ngModel)]="generalSettings.contactPhone"
                (ngModelChange)="onSettingChange()"
                class="form-input"
                placeholder="+56 9 1234 5678"
            >
            </div>
            <div class="form-group">
            <label class="form-label">Zona horaria</label>
            <select [(ngModel)]="generalSettings.timezone" (ngModelChange)="onSettingChange()" class="form-input">
                <option value="America/Santiago">Santiago (GMT-3)</option>
                <option value="America/Buenos_Aires">Buenos Aires (GMT-3)</option>
                <option value="America/Lima">Lima (GMT-5)</option>
                <option value="America/Bogota">Bogotá (GMT-5)</option>
            </select>
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Dirección de la empresa</label>
            <textarea
            [(ngModel)]="generalSettings.address"
            (ngModelChange)="onSettingChange()"
            class="form-input"
            rows="3"
            placeholder="Dirección completa de tu empresa"
            ></textarea>
        </div>
        </div>
    </div>

    <!-- Notificaciones -->
    <div class="settings-section card">
        <div class="section-header">
        <h3 class="section-title">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
            </svg>
            Notificaciones
        </h3>
        <p class="section-description">Configura cómo y cuándo recibir notificaciones</p>
        </div>
        <div class="section-content">
        <div class="notification-options">
            <div class="notification-item">
            <div class="notification-info">
                <h4>Notificaciones por correo</h4>
                <p>Recibe actualizaciones importantes por email</p>
            </div>
            <label class="toggle-switch">
                <input
                type="checkbox"
                [(ngModel)]="notificationSettings.emailNotifications"
                (ngModelChange)="onNotificationChange()"
                >
                <span class="toggle-slider"></span>
            </label>
            </div>

            <div class="notification-item">
            <div class="notification-info">
                <h4>Notificaciones SMS</h4>
                <p>Recibe alertas críticas por mensaje de texto</p>
            </div>
            <label class="toggle-switch">
                <input
                type="checkbox"
                [(ngModel)]="notificationSettings.smsNotifications"
                (ngModelChange)="onNotificationChange()"
                >
                <span class="toggle-slider"></span>
            </label>
            </div>

            <div class="notification-item">
            <div class="notification-info">
                <h4>Notificaciones push</h4>
                <p>Recibe notificaciones en tiempo real en el navegador</p>
            </div>
            <label class="toggle-switch">
                <input
                type="checkbox"
                [(ngModel)]="notificationSettings.pushNotifications"
                (ngModelChange)="onNotificationChange()"
                >
                <span class="toggle-slider"></span>
            </label>
            </div>

            <div class="notification-item">
            <div class="notification-info">
                <h4>Actualizaciones de entrega</h4>
                <p>Notificaciones cuando cambie el estado de un paquete</p>
            </div>
            <label class="toggle-switch">
                <input
                type="checkbox"
                [(ngModel)]="notificationSettings.deliveryUpdates"
                (ngModelChange)="onNotificationChange()"
                >
                <span class="toggle-slider"></span>
            </label>
            </div>

            <div class="notification-item">
            <div class="notification-info">
                <h4>Reportes semanales</h4>
                <p>Resumen semanal de estadísticas y rendimiento</p>
            </div>
            <label class="toggle-switch">
                <input
                type="checkbox"
                [(ngModel)]="notificationSettings.weeklyReports"
                (ngModelChange)="onNotificationChange()"
                >
                <span class="toggle-slider"></span>
            </label>
            </div>
        </div>
        </div>
    </div>

    <!-- Preferencias de Sistema -->
    <div class="settings-section card">
        <div class="section-header">
        <h3 class="section-title">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
            </svg>
            Preferencias del Sistema
        </h3>
        <p class="section-description">Personaliza la apariencia y comportamiento del sistema</p>
        </div>
        <div class="section-content">
        <div class="preferences-grid">
            <div class="preference-item">
            <div class="preference-info">
                <h4>Tema de la aplicación</h4>
                <p>Elige entre tema claro u oscuro</p>
            </div>
            <div class="theme-selector">
                <button class="theme-option" [class.active]="selectedTheme === 'light'" (click)="selectTheme('light')">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"/>
                </svg>
                Claro
                </button>
                <button class="theme-option" [class.active]="selectedTheme === 'dark'" (click)="selectTheme('dark')">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                </svg>
                Oscuro
                </button>
            </div>
            </div>

            <div class="preference-item">
            <div class="preference-info">
                <h4>Idioma de la interfaz</h4>
                <p>Selecciona el idioma de la aplicación</p>
            </div>
            <select [(ngModel)]="generalSettings.language" (ngModelChange)="onSettingChange()" class="form-input">
                <option value="es">Español</option>
                <option value="en">English</option>
                <option value="pt">Português</option>
            </select>
            </div>

            <div class="preference-item">
            <div class="preference-info">
                <h4>Formato de fecha</h4>
                <p>Cómo se muestran las fechas en el sistema</p>
            </div>
            <select [(ngModel)]="generalSettings.dateFormat" (ngModelChange)="onSettingChange()" class="form-input">
                <option value="dd/mm/yyyy">DD/MM/YYYY</option>
                <option value="mm/dd/yyyy">MM/DD/YYYY</option>
                <option value="yyyy-mm-dd">YYYY-MM-DD</option>
            </select>
            </div>

            <div class="preference-item">
            <div class="preference-info">
                <h4>Elementos por página</h4>
                <p>Número de paquetes mostrados por página</p>
            </div>
            <select [(ngModel)]="generalSettings.itemsPerPage" (ngModelChange)="onSettingChange()" class="form-input">
                <option value="10">10 elementos</option>
                <option value="25">25 elementos</option>
                <option value="50">50 elementos</option>
                <option value="100">100 elementos</option>
            </select>
            </div>
        </div>
        </div>
    </div>

    <!-- Botones de Acción -->
    <div class="settings-actions">
        <button class="btn btn-outline" (click)="resetSettings()">
        Restaurar Valores por Defecto
        </button>
        <button class="btn btn-primary" (click)="saveSettings()">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
        </svg>
        Guardar Configuración
        </button>
        <div class="save-status" *ngIf="saveStatus">
        <span [class]="'status-' + saveStatus.type">{{ saveStatus.message }}</span>
        </div>
    </div>
    </div>
</div>
